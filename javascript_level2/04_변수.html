<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>

    <div style="display : none">모달창0</div>
    <div style="display : none">모달창1</div>
    <div style="display : none">모달창2</div>

    <button>버튼0</button>
    <button>버튼1</button>
    <button>버튼2</button>


    <script>

        /* 문제 1번*/
        // 함수();
        // function 함수() {
        // console.log(안녕);
        // let 안녕 = 'Hello!';
        // }

        // 답 : 오류가 난다
        // 이유 : console.log(안녕);이 안녕이라는 변수 선언 전에 사용되어서.
        

        /* 문제 2번*/
        // 함수();
        // var 함수 = function() {
        // console.log(안녕);
        // var 안녕 = 'Hello!';
        // } 

        // 답 : 오류가 난다
        // 이유 : 1번과 동일한 이유


        /* 문제 3번*/
        // let a = 1;
        // var 함수 = function() {
        // a = 2;
        // }
        // console.log(a);

        // 답 : 1
        // 이유 : 해당 코드에서 '함수'라는 코드는 있으나 마나임. 선언해 놓고 쓰지도 않기 때문에.
        // 위 코드는 그냥 1을 a에 할당한 값을 출력해 보는 코드임.


        /* 문제 4번*/
        // let a = 1;
        // var b = 2;
        // window.a = 3;
        // window.b = 4;

        // console.log(a + b);

        // 답 : 5
        // 이유 : 일단 window로 a와 b가 전역변수로 선언 됨. 그리고 이 상태에서 let과 var로 재할당 시도.
        // 그런데 let은 재할당이 안 되니깐 var만 재할당. 따라서 전역변수로 선언한 a의 값 3과 재할당된 b값인 2가 더해지면서 5.

        
        /* 문제 5번*/
        // for (var i = 0; i < 5; i++) { 
        // setTimeout(function() { console.log(i); }, i*1000 ); 
        // }
        
        for (let i = 0; i < 5; i++) { 
        setTimeout(function() { console.log(i); }, i*1000 ); 
        }


        // 5가 반복 출력되는 이유:
        // 반복문 안에 함수는 'x초 후에 실행'하는 형태입니다.
        // 반복문은 0부터 4까지 매우 빠르게 실행됩니다.
        // 반복문이 끝나면 i는 5가 됩니다.
        // 중요한 점: 반복문 안에 있는 함수(setTimeout의 파라미터로 들어간 함수)는 반복문이 모두 끝난 후에 실행됩니다.
        // 함수들은 실행될 때 자신의 주변에 있는 i 변수를 참조하려고 합니다.
        // 그런데 i가 var로 선언되어 전역변수처럼 작동하기 때문에, 모든 함수는 마지막 값인 5만 참조하게 됩니다.
        // 결국 0초, 1초, 2초... 후에 함수들이 차례로 실행되지만, 모두 같은 i값(5)을 사용하게 되어 5가 반복 출력됩니다.


        // 해결책:
        // var를 let으로 바꿔 선언해준다.
        // 이렇게 하면 i는 반복문이 종료 되어도 중괄호 안에서 남아 있는다.
        // 그리고 콘솔로그에 적힌 i는 중괄호 안에 있는 i를 차례대로 가져다 쓴다.


        /* 문제 6번*/
        var 버튼들 = document.querySelectorAll('button');
        var 모달창들 = document.querySelectorAll('div');

        for (let i = 0; i < 3; i++){

        버튼들[i].addEventListener('click', function(){
            모달창들[i].style.display = 'block';
        });

        }

</script>
</body>
</html>